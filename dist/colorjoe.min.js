/*! colorjoe - v3.0.2 - Juho Vepsalainen <bebraw@gmail.com> - MIT
https://bebraw.github.com/colorjoe - 2018-07-03 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.colorjoe=t()}(this,function(){"use strict";"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function n(n,t){return n(t={exports:{}},t.exports),t.exports}var d=n(function(n,t){n.exports=function(){function r(n,t){n?(e(n,t,"touchstart","touchmove","touchend"),e(n,t,"mousedown","mousemove","mouseup")):console.warn("drag is missing elem!")}return r.xyslider=function(n){var t=i(n.class||"",n.parent),e=i("pointer",t);return i("shape shape1",e),i("shape shape2",e),i("bg bg1",t),i("bg bg2",t),r(t,o(n.cbs,e)),{background:t,pointer:e}},r.slider=function(n){var t=i(n.class,n.parent),e=i("pointer",t);return i("shape",e),i("bg",t),r(t,o(n.cbs,e)),{background:t,pointer:e}},r;function o(n,e){var t={};for(var r in n)t[r]=o(n[r]);function o(t){return function(n){n.pointer=e,t(n)}}return t}function i(n,t){return e="div",r=n,o=t,i=document.createElement(e),r&&(i.className=r),o.appendChild(i),i;var e,r,o,i}function e(r,n,t,o,i){var e,a,u,s=(n=(e=n)?{begin:e.begin||d,change:e.change||d,end:e.end||d}:{begin:function(n){a={x:n.elem.offsetLeft,y:n.elem.offsetTop},u=n.cursor},change:function(n){p(n.elem,"left",a.x+n.cursor.x-u.x+"px"),p(n.elem,"top",a.y+n.cursor.y-u.y+"px")},end:d}).begin,c=n.change,l=n.end;f(r,t,function(t){var e=function(n){var t=Array.prototype.slice,e=t.apply(arguments,[1]);return function(){return n.apply(null,e.concat(t.apply(arguments)))}}(v,c,r);f(document,o,e),f(document,i,function n(){h(document,o,e),h(document,i,n),v(l,r,t)}),v(s,r,t)})}function f(n,t,e){n.addEventListener(t,e,!1)}function h(n,t,e){n.removeEventListener(t,e,!1)}function p(n,t,e){n.style[t]=e}function d(){}function v(n,t,e){e.preventDefault();var r,o,i,a={x:(r=t.getBoundingClientRect()).left,y:r.top},u=t.clientWidth,s=t.clientHeight,c={x:(i=e,(i.touches?i.touches[i.touches.length-1]:i).clientX),y:(o=e,(o.touches?o.touches[o.touches.length-1]:o).clientY)},l=(c.x-a.x)/u,f=(c.y-a.y)/s;n({x:isNaN(l)?0:l,y:isNaN(f)?0:f,cursor:c,elem:t,e:e})}}()}),o=n(function(n,t){n.exports=function(){function f(n){if(Array.isArray(n)){if("string"==typeof n[0]&&"function"==typeof f[n[0]])return new f[n[0]](n.slice(1,n.length));if(4===n.length)return new f.RGB(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}else if("string"==typeof n){var t=n.toLowerCase();f.namedColors[t]&&(n="#"+f.namedColors[t]),"transparent"===t&&(n="rgba(0,0,0,0)");var e=n.match(d);if(e){var r=e[1].toUpperCase(),o=h(e[8])?e[8]:parseFloat(e[8]),i="H"===r[0],a=e[3]?100:i?360:255,u=e[5]||i?100:255,s=e[7]||i?100:255;if(h(f[r]))throw new Error("color."+r+" is not installed.");return new f[r](parseFloat(e[2])/a,parseFloat(e[4])/u,parseFloat(e[6])/s,o)}n.length<6&&(n=n.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var c=n.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(c)return new f.RGB(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255);if(f.CMYK){var l=n.match(new RegExp("^cmyk\\("+p.source+","+p.source+","+p.source+","+p.source+"\\)$","i"));if(l)return new f.CMYK(parseFloat(l[1])/100,parseFloat(l[2])/100,parseFloat(l[3])/100,parseFloat(l[4])/100)}}else if("object"==typeof n&&n.isColor)return n;return!1}var u=[],h=function(n){return void 0===n},n=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,p=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,d=new RegExp("^(rgb|hsl|hsv)a?\\("+n.source+","+n.source+","+n.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");f.namedColors={},f.installColorSpace=function(o,i,n){function t(n,r){var t={};for(var e in t[r.toLowerCase()]=function(){return this.rgb()[r.toLowerCase()]()},f[r].propertyNames.forEach(function(e){var n="black"===e?"k":e.charAt(0);t[e]=t[n]=function(n,t){return this[r.toLowerCase()]()[e](n,t)}}),t)t.hasOwnProperty(e)&&void 0===f[n].prototype[e]&&(f[n].prototype[e]=t[e])}(f[o]=function(n){var r=Array.isArray(n)?n:arguments;i.forEach(function(n,t){var e=r[t];if("alpha"===n)this._alpha=isNaN(e)||1<e?1:e<0?0:e;else{if(isNaN(e))throw new Error("["+o+"]: Invalid color: ("+i.join(",")+")");"hue"===n?this._hue=e<0?e-Math.floor(e):e%1:this["_"+n]=e<0?0:1<e?1:e}},this)}).propertyNames=i;var r=f[o].prototype;for(var e in["valueOf","hex","hexa","css","cssa"].forEach(function(n){r[n]=r[n]||("RGB"===o?r.hex:function(){return this.rgb()[n]()})}),r.isColor=!0,r.equals=function(n,t){h(t)&&(t=1e-10),n=n[o.toLowerCase()]();for(var e=0;e<i.length;e+=1)if(Math.abs(this["_"+i[e]]-n["_"+i[e]])>t)return!1;return!0},r.toJSON=function(){return[o].concat(i.map(function(n){return this["_"+n]},this))},n)if(n.hasOwnProperty(e)){var a=e.match(/^from(.*)$/);a?f[a[1].toUpperCase()].prototype[o.toLowerCase()]=n[e]:r[e]=n[e]}return r[o.toLowerCase()]=function(){return this},r.toString=function(){return"["+o+" "+i.map(function(n){return this["_"+n]},this).join(", ")+"]"},i.forEach(function(e){var n="black"===e?"k":e.charAt(0);r[e]=r[n]=function(t,n){return void 0===t?this["_"+e]:n?new this.constructor(i.map(function(n){return this["_"+n]+(e===n?t:0)},this)):new this.constructor(i.map(function(n){return e===n?t:this["_"+n]},this))}}),u.forEach(function(n){t(o,n),t(n,o)}),u.push(o),f},f.pluginList=[],f.use=function(n){return-1===f.pluginList.indexOf(n)&&(this.pluginList.push(n),n(f)),f},f.installMethod=function(t,e){return u.forEach(function(n){f[n].prototype[t]=e}),this},f.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var n=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-n.length)+n},hexa:function(){var n=Math.round(255*this._alpha).toString(16);return"#"+"00".substr(0,2-n.length)+n+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}});var t=function(f){f.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var n,t,e,r=this._hue,o=this._saturation,i=this._value,a=Math.min(5,Math.floor(6*r)),u=6*r-a,s=i*(1-o),c=i*(1-u*o),l=i*(1-(1-u)*o);switch(a){case 0:n=i,t=l,e=s;break;case 1:n=c,t=i,e=s;break;case 2:n=s,t=i,e=l;break;case 3:n=s,t=c,e=i;break;case 4:n=l,t=s,e=i;break;case 5:n=i,t=s,e=c}return new f.RGB(n,t,e,this._alpha)},hsl:function(){var n,t=(2-this._saturation)*this._value,e=this._saturation*this._value,r=t<=1?t:2-t;return n=r<1e-9?0:e/r,new f.HSL(this._hue,n,t/2,this._alpha)},fromRgb:function(){var n,t=this._red,e=this._green,r=this._blue,o=Math.max(t,e,r),i=Math.min(t,e,r),a=o-i,u=0===o?0:a/o,s=o;if(0===a)n=0;else switch(o){case t:n=(e-r)/a/6+(e<r?1:0);break;case e:n=(r-t)/a/6+1/3;break;case r:n=(t-e)/a/6+2/3}return new f.HSV(n,u,s,this._alpha)}})};return f.use(t).use(function(r){r.use(t),r.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var n,t=2*this._lightness,e=this._saturation*(t<=1?t:2-t);return n=t+e<1e-9?0:2*e/(t+e),new r.HSV(this._hue,n,(t+e)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})})}()}),v=t(g,"div");function g(n,t,e){var r=document.createElement(n);return r.className=t,e.appendChild(r),r}function t(n){var t=Array.prototype.slice,e=t.apply(arguments,[1]);return function(){return n.apply(null,e.concat(t.apply(arguments)))}}function e(n,t,e){return Math.min(Math.max(n,t),e)}var y={clamp:e,e:g,div:v,partial:t,labelInput:function(n,t,e,r){var o="colorPickerInput"+Math.floor(1001*Math.random()),i=v(n,e);return{label:(f=t,h=i,p=o,d=g("label","",h),d.innerHTML=f,p&&d.setAttribute("for",p),d),input:(a="text",u=i,s=r,c=o,l=g("input","",u),l.type=a,s&&(l.maxLength=s),c&&l.setAttribute("id",c),s&&(l.maxLength=s),l)};var a,u,s,c,l;var f,h,p,d},X:function(n,t){n.style.left=e(100*t,0,100)+"%"},Y:function(n,t){n.style.top=e(100*t,0,100)+"%"},BG:function(n,t){n.style.background=t}};var r={currentColor:function(n){var t=y.div("currentColorContainer",n),e=y.div("currentColor",t);return{change:function(n){y.BG(e,n.cssa())}}},fields:function(n,e,t){var r=t.space,o=t.limit||255,i=0<=t.fix?t.fix:0,a=(""+o).length+i;a=i?a+1:a;var u=r.split(""),s="A"==r[r.length-1];if(r=s?r.slice(0,-1):r,["RGB","HSL","HSV","CMYK"].indexOf(r)<0)return console.warn("Invalid field names",r);var c=y.div("colorFields",n),l=u.map(function(n){n=n.toLowerCase();var t=y.labelInput("color "+n,n,c,a);return t.input.onblur=f,t.input.onkeydown=h,t.input.onkeyup=p,{name:n,e:t}});function f(){e.done()}function h(n){n.ctrlKey||n.altKey||!/^[a-zA-Z]$/.test(n.key)||n.preventDefault()}function p(){var t=[r];l.forEach(function(n){t.push(n.e.input.value/o)}),s||t.push(e.getAlpha()),e.set(t)}return{change:function(t){l.forEach(function(n){n.e.input.value=(t[n.name]()*o).toFixed(i)})}}},hex:function(n,r,t){var e=y.labelInput("hex",t.label||"",n,7);return e.input.value="#",e.input.onkeyup=function(n){var t=n.keyCode||n.which,e=n.target.value;e=function(n,t,e){for(var r=n,o=n.length;o<t;o++)r+=e;return r}(e="#"==e[0]?e:"#"+e,7,"0"),13==t&&r.set(e)},e.input.onblur=function(n){r.set(n.target.value),r.done()},{change:function(n){e.input.value="#"==e.input.value[0]?"#":"",e.input.value+=n.hex().slice(1)}}},alpha:function(n,e){var t=d.slider({parent:n,class:"oned alpha",cbs:{begin:r,change:r,end:function(){e.done()}}});function r(n){var t=y.clamp(n.y,0,1);y.Y(n.pointer,t),e.setAlpha(1-t)}return{change:function(n){y.Y(t.pointer,1-n.alpha())}}},close:function(n,t,e){var r=y.e("a",e.class||"close",n);r.href="#",r.innerHTML=e.label||"Close",r.onclick=function(n){n.preventDefault(),t.hide()}}},b=function(r){return n=s,(t=[r.init,r.xy,r.z]).map(n).filter(c).length!=t.length?console.warn("colorjoe: missing cb"):function(n,t,e){return function(n){if(!n.e)return console.warn("colorjoe: missing element");var t=(e=n.e,"string"==typeof e?document.getElementById(n.e):n.e);var e;t.className="colorPicker";var r=n.cbs,o=d.xyslider({parent:t,class:"twod",cbs:{begin:i,change:i,end:h}});function i(n){c=r.xy(c,{x:y.clamp(n.x,0,1),y:y.clamp(n.y,0,1)},o,a),f()}var a=d.slider({parent:t,class:"oned",cbs:{begin:u,change:u,end:h}});function u(n){c=r.z(c,y.clamp(n.y,0,1),o,a),f()}var s=m(n.color),c=r.init(s,o,a),l={change:[],done:[]};function f(n){n=x(n)?n:[];for(var t,e=l.change,r=0,o=e.length;r<o;r++)t=e[r],-1==n.indexOf(t.name)&&t.fn(c)}function h(){if(!s.equals(c)){for(var n=0,t=l.done.length;n<t;n++)l.done[n].fn(c);s=c}}var p={e:t,done:function(){return h(),this},update:function(n){return f(n),this},hide:function(){return t.style.display="none",this},show:function(){return t.style.display="",this},get:function(){return c},set:function(n){var t=this.get();return c=r.init(m(n),o,a),t.equals(c)||this.update(),this},getAlpha:function(){return c.alpha()},setAlpha:function(n){return c=c.alpha(n),this.update(),this},on:function(n,t,e){return"change"==n||"done"==n?l[n].push({name:e,fn:t}):console.warn('Passed invalid evt name "'+n+'" to colorjoe.on'),this},removeAllListeners:function(n){if(n)delete l[n];else for(var t in l)delete l[t];return this}};return function(n,u,t){if(t){var s,c,l,f=y.div("extras",n);t.forEach(function(n,t){x(n)?(c=n[0],l=1<n.length?n[1]:{}):(c=n,l={});var e,r,o,i=c in b._extras?b._extras[c]:null;if(i)for(var a in s=i(f,(r=c+t,(o=function(n){var t={};for(var e in n)t[e]=n[e];return t}(e=u)).update=function(){e.update([r])},o),l))u.on(a,s[a],c)})}}(t,p,n.extras),f(),p}({e:n,color:t,cbs:r,extras:e})};var n,t};for(var i in b.rgb=b({init:function(n,t,e){var r=o(n).hsv();return this.xy(r,{x:r.saturation(),y:1-r.value()},t,e),this.z(r,r.hue(),t,e),r},xy:function(n,t,e){return y.X(e.pointer,t.x),y.Y(e.pointer,t.y),n.saturation(t.x).value(1-t.y)},z:function(n,t,e,r){return y.Y(r.pointer,t),a(e.background,t),n.hue(t)}}),b.hsl=b({init:function(n,t,e){var r=o(n).hsl();return this.xy(r,{x:r.hue(),y:1-r.saturation()},t,e),this.z(r,1-r.lightness(),t,e),r},xy:function(n,t,e,r){return y.X(e.pointer,t.x),y.Y(e.pointer,t.y),a(r.background,t.x),n.hue(t.x).saturation(1-t.y)},z:function(n,t,e,r){return y.Y(r.pointer,t),n.lightness(1-t)}}),b.extras={},b.registerExtra=function(n,t){n in b.extras&&console.warn('Extra "'+n+'"has been registered already!'),b.extras[n]=t},r)b.registerExtra(i,r[i]);function a(n,t){y.BG(n,new o.HSV(t,1,1).cssa())}function m(n){if(!u(n))return o("#000");if(n.isColor)return n;var t=o(n);return t||(u(n)&&console.warn("Passed invalid color to colorjoe, using black instead"),o("#000"))}function x(n){return"[object Array]"===Object.prototype.toString.call(n)}function u(n){return void 0!==n}function s(n){return"function"==typeof n}function c(n){return n}return b});
//# sourceMappingURL=colorjoe.min.js.map
